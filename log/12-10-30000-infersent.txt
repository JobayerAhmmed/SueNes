~/hebi/anti-rouge $ bash runner.sh
EXP 3
Mon Dec 10 14:15:16 CST 2018
python3 main.py neg InferSent FC
Using TensorFlow backend.
loading data ..
loading 0 ..
loading 1 ..
loading 2 ..
loading 3 ..
loading 4 ..
loading 5 ..
loading 6 ..
loading 7 ..
loading 8 ..
loading 9 ..
loading 10 ..
loading 11 ..
loading 12 ..
loading 13 ..
loading 14 ..
loading 15 ..
loading 16 ..
loading 17 ..
loading 18 ..
loading 19 ..
loading 20 ..
loading 21 ..
loading 22 ..
loading 23 ..
loading 24 ..
loading 25 ..
loading 26 ..
loading 27 ..
loading 28 ..
loading 29 ..
concatenating ..
train:  (48000, 50, 4096) (48000,)
val:  (6000, 50, 4096) (6000,)
test:  (6000, 50, 4096) (6000,)
building model ..
building model ..
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
input_1 (InputLayer)         (None, 50, 4096)          0         
_________________________________________________________________
flatten_1 (Flatten)          (None, 204800)            0         
_________________________________________________________________
dense_1 (Dense)              (None, 128)               26214528  
_________________________________________________________________
dense_2 (Dense)              (None, 1)                 129       
=================================================================
Total params: 26,214,657
Trainable params: 26,214,657
Non-trainable params: 0
_________________________________________________________________
training ..
Train on 48000 samples, validate on 6000 samples
Epoch 1/60
2018-12-10 14:18:01.271586: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-12-10 14:18:01.523791: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:0a:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2018-12-10 14:18:01.523823: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2018-12-10 14:18:02.047205: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-12-10 14:18:02.047239: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2018-12-10 14:18:02.047249: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2018-12-10 14:18:02.047767: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10407 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:0a:00.0, compute capability: 6.1)
48000/48000 [==============================] - 66s 1ms/step - loss: 0.6679 - acc: 0.5569 - pearson_correlation_f: 0.2416 - val_loss: 0.7210 - val_acc: 0.5633 - val_pearson_correlation_f: 0.2885
Epoch 2/60
48000/48000 [==============================] - 64s 1ms/step - loss: 0.5919 - acc: 0.6596 - pearson_correlation_f: 0.4626 - val_loss: 0.4532 - val_acc: 0.8445 - val_pearson_correlation_f: 0.6934
Epoch 3/60
48000/48000 [==============================] - 63s 1ms/step - loss: 0.4667 - acc: 0.7795 - pearson_correlation_f: 0.7020 - val_loss: 0.4833 - val_acc: 0.6855 - val_pearson_correlation_f: 0.7615
Epoch 4/60
48000/48000 [==============================] - 63s 1ms/step - loss: 0.3541 - acc: 0.8524 - pearson_correlation_f: 0.8051 - val_loss: 0.2647 - val_acc: 0.9160 - val_pearson_correlation_f: 0.8514
Epoch 5/60
48000/48000 [==============================] - 63s 1ms/step - loss: 0.2718 - acc: 0.8917 - pearson_correlation_f: 0.8565 - val_loss: 0.3455 - val_acc: 0.8495 - val_pearson_correlation_f: 0.8027
Epoch 6/60
48000/48000 [==============================] - 63s 1ms/step - loss: 0.2125 - acc: 0.9201 - pearson_correlation_f: 0.8899 - val_loss: 0.1978 - val_acc: 0.9292 - val_pearson_correlation_f: 0.8891
Epoch 7/60
48000/48000 [==============================] - 63s 1ms/step - loss: 0.1701 - acc: 0.9354 - pearson_correlation_f: 0.9112 - val_loss: 0.2974 - val_acc: 0.8598 - val_pearson_correlation_f: 0.8271
Epoch 8/60
48000/48000 [==============================] - 62s 1ms/step - loss: 0.1397 - acc: 0.9501 - pearson_correlation_f: 0.9283 - val_loss: 0.1561 - val_acc: 0.9465 - val_pearson_correlation_f: 0.9141
Epoch 9/60
48000/48000 [==============================] - 64s 1ms/step - loss: 0.1117 - acc: 0.9609 - pearson_correlation_f: 0.9433 - val_loss: 0.1381 - val_acc: 0.9563 - val_pearson_correlation_f: 0.9266
Epoch 10/60
48000/48000 [==============================] - 63s 1ms/step - loss: 0.0962 - acc: 0.9656 - pearson_correlation_f: 0.9507 - val_loss: 0.1398 - val_acc: 0.9570 - val_pearson_correlation_f: 0.9279
Epoch 11/60
48000/48000 [==============================] - 63s 1ms/step - loss: 0.0895 - acc: 0.9683 - pearson_correlation_f: 0.9546 - val_loss: 0.1365 - val_acc: 0.9562 - val_pearson_correlation_f: 0.9285
Epoch 12/60
48000/48000 [==============================] - 61s 1ms/step - loss: 0.0734 - acc: 0.9733 - pearson_correlation_f: 0.9618 - val_loss: 0.1414 - val_acc: 0.9583 - val_pearson_correlation_f: 0.9284
Epoch 13/60
48000/48000 [==============================] - 62s 1ms/step - loss: 0.0692 - acc: 0.9759 - pearson_correlation_f: 0.9647 - val_loss: 0.1392 - val_acc: 0.9592 - val_pearson_correlation_f: 0.9299
Epoch 14/60
48000/48000 [==============================] - 61s 1ms/step - loss: 0.0611 - acc: 0.9783 - pearson_correlation_f: 0.9687 - val_loss: 0.1434 - val_acc: 0.9602 - val_pearson_correlation_f: 0.9315
6000/6000 [==============================] - 3s 451us/step
Test result:  [0.13633573307966193, 0.9618333333333333, 0.9362003281911214]
python3 main.py neg InferSent CNN
Using TensorFlow backend.
loading data ..
loading 0 ..
loading 1 ..
loading 2 ..
loading 3 ..
loading 4 ..
loading 5 ..
loading 6 ..
loading 7 ..
loading 8 ..
loading 9 ..
loading 10 ..
loading 11 ..
loading 12 ..
loading 13 ..
loading 14 ..
loading 15 ..
loading 16 ..
loading 17 ..
loading 18 ..
loading 19 ..
loading 20 ..
loading 21 ..
loading 22 ..
loading 23 ..
loading 24 ..
loading 25 ..
loading 26 ..
loading 27 ..
loading 28 ..
loading 29 ..
concatenating ..
train:  (48000, 50, 4096) (48000,)
val:  (6000, 50, 4096) (6000,)
test:  (6000, 50, 4096) (6000,)
building model ..
building model ..
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
input_1 (InputLayer)         (None, 50, 4096)          0         
_________________________________________________________________
conv1d_1 (Conv1D)            (None, 46, 128)           2621568   
_________________________________________________________________
max_pooling1d_1 (MaxPooling1 (None, 15, 128)           0         
_________________________________________________________________
global_max_pooling1d_1 (Glob (None, 128)               0         
_________________________________________________________________
dense_1 (Dense)              (None, 128)               16512     
_________________________________________________________________
dense_2 (Dense)              (None, 1)                 129       
=================================================================
Total params: 2,638,209
Trainable params: 2,638,209
Non-trainable params: 0
_________________________________________________________________
training ..
Train on 48000 samples, validate on 6000 samples
Epoch 1/60
2018-12-10 14:35:30.593707: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-12-10 14:35:30.861720: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:0a:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2018-12-10 14:35:30.861756: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2018-12-10 14:35:31.418505: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-12-10 14:35:31.418540: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2018-12-10 14:35:31.418550: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2018-12-10 14:35:31.419064: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10407 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:0a:00.0, compute capability: 6.1)
48000/48000 [==============================] - 68s 1ms/step - loss: 0.5279 - acc: 0.6848 - pearson_correlation_f: 0.4626 - val_loss: 0.4007 - val_acc: 0.8533 - val_pearson_correlation_f: 0.7803
Epoch 2/60
48000/48000 [==============================] - 64s 1ms/step - loss: 0.2253 - acc: 0.9260 - pearson_correlation_f: 0.8695 - val_loss: 0.1972 - val_acc: 0.9392 - val_pearson_correlation_f: 0.8841
Epoch 3/60
48000/48000 [==============================] - 64s 1ms/step - loss: 0.1969 - acc: 0.9377 - pearson_correlation_f: 0.8847 - val_loss: 0.1994 - val_acc: 0.9385 - val_pearson_correlation_f: 0.8846
Epoch 4/60
48000/48000 [==============================] - 63s 1ms/step - loss: 0.1892 - acc: 0.9391 - pearson_correlation_f: 0.8891 - val_loss: 0.2408 - val_acc: 0.9185 - val_pearson_correlation_f: 0.8584
Epoch 5/60
48000/48000 [==============================] - 64s 1ms/step - loss: 0.1824 - acc: 0.9406 - pearson_correlation_f: 0.8935 - val_loss: 0.1994 - val_acc: 0.9360 - val_pearson_correlation_f: 0.8810
6000/6000 [==============================] - 3s 488us/step
Test result:  [0.19862831479310988, 0.9365, 0.8837509741783142]
python3 main.py neg InferSent LSTM
Using TensorFlow backend.
loading data ..
loading 0 ..
loading 1 ..
loading 2 ..
loading 3 ..
loading 4 ..
loading 5 ..
loading 6 ..
loading 7 ..
loading 8 ..
loading 9 ..
loading 10 ..
loading 11 ..
loading 12 ..
loading 13 ..
loading 14 ..
loading 15 ..
loading 16 ..
loading 17 ..
loading 18 ..
loading 19 ..
loading 20 ..
loading 21 ..
loading 22 ..
loading 23 ..
loading 24 ..
loading 25 ..
loading 26 ..
loading 27 ..
loading 28 ..
loading 29 ..
concatenating ..
train:  (48000, 50, 4096) (48000,)
val:  (6000, 50, 4096) (6000,)
test:  (6000, 50, 4096) (6000,)
building model ..
building model ..
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
input_1 (InputLayer)         (None, 50, 4096)          0         
_________________________________________________________________
lstm_1 (LSTM)                (None, 25)                412200    
_________________________________________________________________
dense_1 (Dense)              (None, 1)                 26        
=================================================================
Total params: 412,226
Trainable params: 412,226
Non-trainable params: 0
_________________________________________________________________
training ..
Train on 48000 samples, validate on 6000 samples
Epoch 1/60
2018-12-10 14:43:42.417135: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-12-10 14:43:42.671212: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:0a:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2018-12-10 14:43:42.671246: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2018-12-10 14:43:43.204285: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-12-10 14:43:43.204319: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2018-12-10 14:43:43.204328: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2018-12-10 14:43:43.204847: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10407 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:0a:00.0, compute capability: 6.1)
48000/48000 [==============================] - 96s 2ms/step - loss: 0.5318 - acc: 0.7008 - pearson_correlation_f: 0.4337 - val_loss: 0.2185 - val_acc: 0.9357 - val_pearson_correlation_f: 0.8748
Epoch 2/60
48000/48000 [==============================] - 94s 2ms/step - loss: 0.2006 - acc: 0.9377 - pearson_correlation_f: 0.8837 - val_loss: 0.1953 - val_acc: 0.9395 - val_pearson_correlation_f: 0.8850
Epoch 3/60
48000/48000 [==============================] - 92s 2ms/step - loss: 0.1870 - acc: 0.9419 - pearson_correlation_f: 0.8905 - val_loss: 0.2412 - val_acc: 0.9135 - val_pearson_correlation_f: 0.8524
Epoch 4/60
48000/48000 [==============================] - 93s 2ms/step - loss: 0.1840 - acc: 0.9421 - pearson_correlation_f: 0.8921 - val_loss: 0.1990 - val_acc: 0.9373 - val_pearson_correlation_f: 0.8817
Epoch 5/60
48000/48000 [==============================] - 92s 2ms/step - loss: 0.1805 - acc: 0.9423 - pearson_correlation_f: 0.8938 - val_loss: 0.1907 - val_acc: 0.9393 - val_pearson_correlation_f: 0.8874
Epoch 6/60
48000/48000 [==============================] - 92s 2ms/step - loss: 0.1730 - acc: 0.9432 - pearson_correlation_f: 0.8985 - val_loss: 0.1888 - val_acc: 0.9387 - val_pearson_correlation_f: 0.8878
Epoch 7/60
48000/48000 [==============================] - 93s 2ms/step - loss: 0.1628 - acc: 0.9462 - pearson_correlation_f: 0.9054 - val_loss: 0.1800 - val_acc: 0.9417 - val_pearson_correlation_f: 0.8941
Epoch 8/60
48000/48000 [==============================] - 94s 2ms/step - loss: 0.1515 - acc: 0.9494 - pearson_correlation_f: 0.9126 - val_loss: 0.1860 - val_acc: 0.9445 - val_pearson_correlation_f: 0.9000
Epoch 9/60
48000/48000 [==============================] - 92s 2ms/step - loss: 0.1407 - acc: 0.9533 - pearson_correlation_f: 0.9202 - val_loss: 0.1720 - val_acc: 0.9458 - val_pearson_correlation_f: 0.9029
Epoch 10/60
48000/48000 [==============================] - 92s 2ms/step - loss: 0.1309 - acc: 0.9566 - pearson_correlation_f: 0.9264 - val_loss: 0.1732 - val_acc: 0.9478 - val_pearson_correlation_f: 0.9067
Epoch 11/60
48000/48000 [==============================] - 91s 2ms/step - loss: 0.1215 - acc: 0.9600 - pearson_correlation_f: 0.9327 - val_loss: 0.1662 - val_acc: 0.9467 - val_pearson_correlation_f: 0.9063
Epoch 12/60
48000/48000 [==============================] - 92s 2ms/step - loss: 0.1142 - acc: 0.9622 - pearson_correlation_f: 0.9368 - val_loss: 0.1618 - val_acc: 0.9492 - val_pearson_correlation_f: 0.9107
Epoch 13/60
48000/48000 [==============================] - 95s 2ms/step - loss: 0.1068 - acc: 0.9651 - pearson_correlation_f: 0.9415 - val_loss: 0.1792 - val_acc: 0.9487 - val_pearson_correlation_f: 0.9090
Epoch 14/60
48000/48000 [==============================] - 94s 2ms/step - loss: 0.1002 - acc: 0.9671 - pearson_correlation_f: 0.9453 - val_loss: 0.1701 - val_acc: 0.9493 - val_pearson_correlation_f: 0.9120
Epoch 15/60
48000/48000 [==============================] - 94s 2ms/step - loss: 0.0923 - acc: 0.9695 - pearson_correlation_f: 0.9498 - val_loss: 0.1841 - val_acc: 0.9493 - val_pearson_correlation_f: 0.9115
6000/6000 [==============================] - 10s 2ms/step
Test result:  [0.15680752420425415, 0.9563333333333334, 0.9232129683494568]
Mon Dec 10 15:07:12 CST 2018
DONE!!!



~/hebi/anti-rouge $ bash runner.sh
EXP 4
Mon Dec 10 15:11:34 CST 2018
python3 main.py mutate InferSent FC --extra=add
Using TensorFlow backend.
loading data ..
loading 0 ..
loading 1 ..
loading 2 ..
loading 3 ..
loading 4 ..
loading 5 ..
loading 6 ..
loading 7 ..
loading 8 ..
loading 9 ..
loading 10 ..
loading 11 ..
loading 12 ..
loading 13 ..
loading 14 ..
loading 15 ..
loading 16 ..
loading 17 ..
loading 18 ..
loading 19 ..
loading 20 ..
loading 21 ..
loading 22 ..
loading 23 ..
loading 24 ..
loading 25 ..
loading 26 ..
loading 27 ..
loading 28 ..
loading 29 ..
concatenating ..
train:  (47860, 50, 4096) (47860,)
val:  (5982, 50, 4096) (5982,)
test:  (5982, 50, 4096) (5982,)
building model ..
building model ..
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
input_1 (InputLayer)         (None, 50, 4096)          0         
_________________________________________________________________
flatten_1 (Flatten)          (None, 204800)            0         
_________________________________________________________________
dense_1 (Dense)              (None, 128)               26214528  
_________________________________________________________________
dense_2 (Dense)              (None, 1)                 129       
=================================================================
Total params: 26,214,657
Trainable params: 26,214,657
Non-trainable params: 0
_________________________________________________________________
training ..
Train on 47860 samples, validate on 5982 samples
Epoch 1/60
2018-12-10 15:14:28.898386: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-12-10 15:14:29.151155: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:0a:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2018-12-10 15:14:29.151188: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2018-12-10 15:14:29.685859: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-12-10 15:14:29.685895: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2018-12-10 15:14:29.685904: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2018-12-10 15:14:29.686429: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10407 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:0a:00.0, compute capability: 6.1)
47860/47860 [==============================] - 67s 1ms/step - loss: 0.1642 - mean_absolute_error: 0.3289 - mean_squared_error: 0.1642 - acc: 0.4233 - pearson_correlation_f: 0.0719 - val_loss: 0.1100 - val_mean_absolute_error: 0.3026 - val_mean_squared_error: 0.1100 - val_acc: 0.4950 - val_pearson_correlation_f: 0.2368
Epoch 2/60
47860/47860 [==============================] - 64s 1ms/step - loss: 0.1058 - mean_absolute_error: 0.2688 - mean_squared_error: 0.1058 - acc: 0.4848 - pearson_correlation_f: 0.3251 - val_loss: 0.1000 - val_mean_absolute_error: 0.2268 - val_mean_squared_error: 0.1000 - val_acc: 0.5000 - val_pearson_correlation_f: 0.4278
Epoch 3/60
47860/47860 [==============================] - 63s 1ms/step - loss: 0.0901 - mean_absolute_error: 0.2470 - mean_squared_error: 0.0901 - acc: 0.4919 - pearson_correlation_f: 0.4814 - val_loss: 0.0955 - val_mean_absolute_error: 0.2729 - val_mean_squared_error: 0.0955 - val_acc: 0.4789 - val_pearson_correlation_f: 0.4599
Epoch 4/60
47860/47860 [==============================] - 64s 1ms/step - loss: 0.0823 - mean_absolute_error: 0.2344 - mean_squared_error: 0.0823 - acc: 0.4936 - pearson_correlation_f: 0.5489 - val_loss: 0.0915 - val_mean_absolute_error: 0.2650 - val_mean_squared_error: 0.0915 - val_acc: 0.4764 - val_pearson_correlation_f: 0.4937
Epoch 5/60
47860/47860 [==============================] - 63s 1ms/step - loss: 0.0761 - mean_absolute_error: 0.2241 - mean_squared_error: 0.0761 - acc: 0.4923 - pearson_correlation_f: 0.5971 - val_loss: 0.0760 - val_mean_absolute_error: 0.2135 - val_mean_squared_error: 0.0760 - val_acc: 0.4980 - val_pearson_correlation_f: 0.5300
Epoch 6/60
47860/47860 [==============================] - 64s 1ms/step - loss: 0.0721 - mean_absolute_error: 0.2174 - mean_squared_error: 0.0721 - acc: 0.4923 - pearson_correlation_f: 0.6310 - val_loss: 0.0761 - val_mean_absolute_error: 0.2290 - val_mean_squared_error: 0.0761 - val_acc: 0.4928 - val_pearson_correlation_f: 0.5298
Epoch 7/60
47860/47860 [==============================] - 63s 1ms/step - loss: 0.0683 - mean_absolute_error: 0.2109 - mean_squared_error: 0.0683 - acc: 0.4930 - pearson_correlation_f: 0.6580 - val_loss: 0.0852 - val_mean_absolute_error: 0.2159 - val_mean_squared_error: 0.0852 - val_acc: 0.4988 - val_pearson_correlation_f: 0.5296
Epoch 8/60
47860/47860 [==============================] - 63s 1ms/step - loss: 0.0663 - mean_absolute_error: 0.2072 - mean_squared_error: 0.0663 - acc: 0.4927 - pearson_correlation_f: 0.6791 - val_loss: 0.0772 - val_mean_absolute_error: 0.2307 - val_mean_squared_error: 0.0772 - val_acc: 0.4878 - val_pearson_correlation_f: 0.5410
5982/5982 [==============================] - 4s 586us/step
Test result:  [0.07543092185026704, 0.22846291817298744, 0.07543092185026704, 0.4884653961885657, 0.5615535362912276]
python3 main.py mutate InferSent CNN --extra=add
Using TensorFlow backend.
loading data ..
loading 0 ..
loading 1 ..
loading 2 ..
loading 3 ..
loading 4 ..
loading 5 ..
loading 6 ..
loading 7 ..
loading 8 ..
loading 9 ..
loading 10 ..
loading 11 ..
loading 12 ..
loading 13 ..
loading 14 ..
loading 15 ..
loading 16 ..
loading 17 ..
loading 18 ..
loading 19 ..
loading 20 ..
loading 21 ..
loading 22 ..
loading 23 ..
loading 24 ..
loading 25 ..
loading 26 ..
loading 27 ..
loading 28 ..
loading 29 ..
concatenating ..
train:  (47860, 50, 4096) (47860,)
val:  (5982, 50, 4096) (5982,)
test:  (5982, 50, 4096) (5982,)
building model ..
building model ..
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
input_1 (InputLayer)         (None, 50, 4096)          0         
_________________________________________________________________
conv1d_1 (Conv1D)            (None, 46, 128)           2621568   
_________________________________________________________________
max_pooling1d_1 (MaxPooling1 (None, 15, 128)           0         
_________________________________________________________________
global_max_pooling1d_1 (Glob (None, 128)               0         
_________________________________________________________________
dense_1 (Dense)              (None, 128)               16512     
_________________________________________________________________
dense_2 (Dense)              (None, 1)                 129       
=================================================================
Total params: 2,638,209
Trainable params: 2,638,209
Non-trainable params: 0
_________________________________________________________________
training ..
Train on 47860 samples, validate on 5982 samples
Epoch 1/60
2018-12-10 15:25:50.805995: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-12-10 15:25:51.071213: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:0a:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2018-12-10 15:25:51.071246: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2018-12-10 15:25:51.594630: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-12-10 15:25:51.594664: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2018-12-10 15:25:51.594673: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2018-12-10 15:25:51.595189: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10407 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:0a:00.0, compute capability: 6.1)
47860/47860 [==============================] - 67s 1ms/step - loss: 0.1353 - mean_absolute_error: 0.3023 - mean_squared_error: 0.1353 - acc: 0.4456 - pearson_correlation_f: 0.1875 - val_loss: 0.1629 - val_mean_absolute_error: 0.2967 - val_mean_squared_error: 0.1629 - val_acc: 0.5000 - val_pearson_correlation_f: 0.4502
Epoch 2/60
47860/47860 [==============================] - 65s 1ms/step - loss: 0.0828 - mean_absolute_error: 0.2293 - mean_squared_error: 0.0828 - acc: 0.4891 - pearson_correlation_f: 0.5516 - val_loss: 0.0703 - val_mean_absolute_error: 0.1980 - val_mean_squared_error: 0.0703 - val_acc: 0.4980 - val_pearson_correlation_f: 0.5831
Epoch 3/60
47860/47860 [==============================] - 65s 1ms/step - loss: 0.0721 - mean_absolute_error: 0.2098 - mean_squared_error: 0.0721 - acc: 0.4915 - pearson_correlation_f: 0.6146 - val_loss: 0.0693 - val_mean_absolute_error: 0.2204 - val_mean_squared_error: 0.0693 - val_acc: 0.4871 - val_pearson_correlation_f: 0.6110
Epoch 4/60
47860/47860 [==============================] - 64s 1ms/step - loss: 0.0664 - mean_absolute_error: 0.1988 - mean_squared_error: 0.0664 - acc: 0.4917 - pearson_correlation_f: 0.6478 - val_loss: 0.0675 - val_mean_absolute_error: 0.1824 - val_mean_squared_error: 0.0675 - val_acc: 0.4983 - val_pearson_correlation_f: 0.6252
Epoch 5/60
47860/47860 [==============================] - 64s 1ms/step - loss: 0.0630 - mean_absolute_error: 0.1922 - mean_squared_error: 0.0630 - acc: 0.4922 - pearson_correlation_f: 0.6678 - val_loss: 0.0684 - val_mean_absolute_error: 0.1814 - val_mean_squared_error: 0.0684 - val_acc: 0.4990 - val_pearson_correlation_f: 0.6287
Epoch 6/60
47860/47860 [==============================] - 64s 1ms/step - loss: 0.0595 - mean_absolute_error: 0.1854 - mean_squared_error: 0.0595 - acc: 0.4926 - pearson_correlation_f: 0.6873 - val_loss: 0.0675 - val_mean_absolute_error: 0.1775 - val_mean_squared_error: 0.0675 - val_acc: 0.4980 - val_pearson_correlation_f: 0.6253
Epoch 7/60
47860/47860 [==============================] - 64s 1ms/step - loss: 0.0573 - mean_absolute_error: 0.1810 - mean_squared_error: 0.0573 - acc: 0.4934 - pearson_correlation_f: 0.7019 - val_loss: 0.0617 - val_mean_absolute_error: 0.1922 - val_mean_squared_error: 0.0617 - val_acc: 0.4875 - val_pearson_correlation_f: 0.6430
Epoch 8/60
47860/47860 [==============================] - 63s 1ms/step - loss: 0.0545 - mean_absolute_error: 0.1752 - mean_squared_error: 0.0545 - acc: 0.4942 - pearson_correlation_f: 0.7171 - val_loss: 0.0669 - val_mean_absolute_error: 0.1905 - val_mean_squared_error: 0.0669 - val_acc: 0.4768 - val_pearson_correlation_f: 0.6259
Epoch 9/60
47860/47860 [==============================] - 63s 1ms/step - loss: 0.0528 - mean_absolute_error: 0.1716 - mean_squared_error: 0.0528 - acc: 0.4941 - pearson_correlation_f: 0.7291 - val_loss: 0.0716 - val_mean_absolute_error: 0.1766 - val_mean_squared_error: 0.0716 - val_acc: 0.4988 - val_pearson_correlation_f: 0.6378
Epoch 10/60
47860/47860 [==============================] - 62s 1ms/step - loss: 0.0509 - mean_absolute_error: 0.1677 - mean_squared_error: 0.0509 - acc: 0.4944 - pearson_correlation_f: 0.7397 - val_loss: 0.0708 - val_mean_absolute_error: 0.2133 - val_mean_squared_error: 0.0708 - val_acc: 0.4669 - val_pearson_correlation_f: 0.6285
5982/5982 [==============================] - 3s 516us/step
Test result:  [0.06839068887231542, 0.20901562953545313, 0.06839068887231542, 0.46723503844867936, 0.6450206795411538]
python3 main.py mutate InferSent LSTM --extra=add
Using TensorFlow backend.
loading data ..
loading 0 ..
loading 1 ..
loading 2 ..
loading 3 ..
loading 4 ..
loading 5 ..
loading 6 ..
loading 7 ..
loading 8 ..
loading 9 ..
loading 10 ..
loading 11 ..
loading 12 ..
loading 13 ..
loading 14 ..
loading 15 ..
loading 16 ..
loading 17 ..
loading 18 ..
loading 19 ..
loading 20 ..
loading 21 ..
loading 22 ..
loading 23 ..
loading 24 ..
loading 25 ..
loading 26 ..
loading 27 ..
loading 28 ..
loading 29 ..
concatenating ..
train:  (47860, 50, 4096) (47860,)
val:  (5982, 50, 4096) (5982,)
test:  (5982, 50, 4096) (5982,)
building model ..
building model ..
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
input_1 (InputLayer)         (None, 50, 4096)          0         
_________________________________________________________________
lstm_1 (LSTM)                (None, 25)                412200    
_________________________________________________________________
dense_1 (Dense)              (None, 1)                 26        
=================================================================
Total params: 412,226
Trainable params: 412,226
Non-trainable params: 0
_________________________________________________________________
training ..
Train on 47860 samples, validate on 5982 samples
Epoch 1/60
2018-12-10 15:39:49.448836: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-12-10 15:39:49.731958: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:0a:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2018-12-10 15:39:49.731995: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2018-12-10 15:39:50.285126: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-12-10 15:39:50.285160: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2018-12-10 15:39:50.285170: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2018-12-10 15:39:50.285693: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10407 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:0a:00.0, compute capability: 6.1)
47860/47860 [==============================] - 96s 2ms/step - loss: 0.1463 - mean_absolute_error: 0.3077 - mean_squared_error: 0.1463 - acc: 0.4168 - pearson_correlation_f: 0.3006 - val_loss: 0.0729 - val_mean_absolute_error: 0.2009 - val_mean_squared_error: 0.0729 - val_acc: 0.4997 - val_pearson_correlation_f: 0.5817
Epoch 2/60
47860/47860 [==============================] - 94s 2ms/step - loss: 0.0697 - mean_absolute_error: 0.2073 - mean_squared_error: 0.0697 - acc: 0.4946 - pearson_correlation_f: 0.6159 - val_loss: 0.0733 - val_mean_absolute_error: 0.1888 - val_mean_squared_error: 0.0733 - val_acc: 0.4990 - val_pearson_correlation_f: 0.6250
Epoch 3/60
47860/47860 [==============================] - 93s 2ms/step - loss: 0.0630 - mean_absolute_error: 0.1938 - mean_squared_error: 0.0630 - acc: 0.4967 - pearson_correlation_f: 0.6574 - val_loss: 0.0597 - val_mean_absolute_error: 0.1820 - val_mean_squared_error: 0.0597 - val_acc: 0.4980 - val_pearson_correlation_f: 0.6528
Epoch 4/60
47860/47860 [==============================] - 93s 2ms/step - loss: 0.0589 - mean_absolute_error: 0.1860 - mean_squared_error: 0.0589 - acc: 0.4972 - pearson_correlation_f: 0.6784 - val_loss: 0.0585 - val_mean_absolute_error: 0.1853 - val_mean_squared_error: 0.0585 - val_acc: 0.4965 - val_pearson_correlation_f: 0.6609
Epoch 5/60
47860/47860 [==============================] - 93s 2ms/step - loss: 0.0563 - mean_absolute_error: 0.1806 - mean_squared_error: 0.0563 - acc: 0.4972 - pearson_correlation_f: 0.6934 - val_loss: 0.0593 - val_mean_absolute_error: 0.1737 - val_mean_squared_error: 0.0593 - val_acc: 0.4990 - val_pearson_correlation_f: 0.6674
Epoch 6/60
47860/47860 [==============================] - 92s 2ms/step - loss: 0.0544 - mean_absolute_error: 0.1764 - mean_squared_error: 0.0544 - acc: 0.4978 - pearson_correlation_f: 0.7049 - val_loss: 0.0583 - val_mean_absolute_error: 0.1717 - val_mean_squared_error: 0.0583 - val_acc: 0.4987 - val_pearson_correlation_f: 0.6722
Epoch 7/60
47860/47860 [==============================] - 92s 2ms/step - loss: 0.0525 - mean_absolute_error: 0.1722 - mean_squared_error: 0.0525 - acc: 0.4978 - pearson_correlation_f: 0.7148 - val_loss: 0.0625 - val_mean_absolute_error: 0.1974 - val_mean_squared_error: 0.0625 - val_acc: 0.4856 - val_pearson_correlation_f: 0.6744
Epoch 8/60
47860/47860 [==============================] - 92s 2ms/step - loss: 0.0509 - mean_absolute_error: 0.1682 - mean_squared_error: 0.0509 - acc: 0.4975 - pearson_correlation_f: 0.7233 - val_loss: 0.0548 - val_mean_absolute_error: 0.1754 - val_mean_squared_error: 0.0548 - val_acc: 0.4968 - val_pearson_correlation_f: 0.6854
Epoch 9/60
47860/47860 [==============================] - 92s 2ms/step - loss: 0.0497 - mean_absolute_error: 0.1652 - mean_squared_error: 0.0497 - acc: 0.4975 - pearson_correlation_f: 0.7330 - val_loss: 0.0561 - val_mean_absolute_error: 0.1658 - val_mean_squared_error: 0.0561 - val_acc: 0.4980 - val_pearson_correlation_f: 0.6831
Epoch 10/60
47860/47860 [==============================] - 93s 2ms/step - loss: 0.0481 - mean_absolute_error: 0.1613 - mean_squared_error: 0.0481 - acc: 0.4973 - pearson_correlation_f: 0.7407 - val_loss: 0.0556 - val_mean_absolute_error: 0.1651 - val_mean_squared_error: 0.0556 - val_acc: 0.4980 - val_pearson_correlation_f: 0.6847
Epoch 11/60
47860/47860 [==============================] - 92s 2ms/step - loss: 0.0468 - mean_absolute_error: 0.1586 - mean_squared_error: 0.0468 - acc: 0.4975 - pearson_correlation_f: 0.7500 - val_loss: 0.0612 - val_mean_absolute_error: 0.1925 - val_mean_squared_error: 0.0612 - val_acc: 0.4829 - val_pearson_correlation_f: 0.6808
5982/5982 [==============================] - 10s 2ms/step
Test result:  [0.05776495308142289, 0.18682416179972483, 0.05776495308142289, 0.48328318288197925, 0.6982480416884593]
Mon Dec 10 15:57:03 CST 2018
DONE!!!
